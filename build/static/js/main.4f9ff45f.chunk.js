(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,n,t){e.exports=t(37)},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(14),c=t.n(o),u=t(4),i=t(2),l=function(e){var n=e.newSearch,t=e.onChange;return r.a.createElement("div",null,"filter shown with",r.a.createElement("input",{value:n,onChange:t}))},m=function(e){var n=e.onSubmit,t=e.states,a=e.handlers;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:t.name,onChange:a.name})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:t.number,onChange:a.number}))),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},d=function(e){var n=e.personsToShow,t=e.onClick;return r.a.createElement("h4",null,n.map((function(e){return r.a.createElement("p",{key:e.name},e.name," ",e.number,r.a.createElement("button",{name:e.name,id:e.id,type:"button",onClick:t},"delete"))})))},s=t(3),f=t.n(s),b="/api/persons",h=function(){return f.a.get(b)},p=function(e){return f.a.post(b,e)},v=function(e){return f.a.delete(b+"/".concat(e))},g=function(e,n){return f.a.put("".concat(b,"/").concat(e),n)},E=function(e){var n=e.msg;return null===n?null:n.includes("Added")?r.a.createElement("div",{style:{color:"green",background:"lightgrey",fontSize:20,border:"4px solid green",borderRadius:5,padding:10,marginBottom:10}},n):r.a.createElement("div",{style:{color:"red",background:"lightgrey",fontSize:20,border:"4px solid red",borderRadius:5,padding:10,marginBottom:10}},n)},w=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],o=n[1],c=Object(a.useState)(""),s=Object(i.a)(c,2),f=s[0],b=s[1],w=Object(a.useState)(""),S=Object(i.a)(w,2),O=S[0],j=S[1],k=Object(a.useState)(""),y=Object(i.a)(k,2),C=y[0],T=y[1],B=Object(a.useState)(null),x=Object(i.a)(B,2),J=x[0],z=x[1];Object(a.useEffect)((function(){h().then((function(e){o(e.data)}))}),[]);var A=t.filter((function(e){var n=e.name.toLowerCase(),t=C.toLowerCase();return n.includes(t)})),D={name:f,number:O},I={name:function(e){b(e.target.value)},number:function(e){j(e.target.value)}};return r.a.createElement("div",null,r.a.createElement("h2",null,"PhoneBook"),r.a.createElement(E,{msg:J}),r.a.createElement(l,{newSearch:C,onChange:function(e){T(e.target.value)}}),r.a.createElement("h2",null,"add a new"),r.a.createElement(m,{onSubmit:function(e){e.preventDefault();var n={name:f,number:O},a=t.find((function(e){return e.name===f}));if(void 0!==a){if(window.confirm("".concat(f," is already added to phonebook, replace the old number with a new one?"))){var r=Object(u.a)(Object(u.a)({},a),{},{number:O});g(a.id,r).then((function(e){o(t.map((function(n){return n.id===a.id?e.data:n}))),z("Updated ".concat(f,"'s phone number")),setTimeout((function(){z(null)}),2e3)})).catch((function(e){z("Information of ".concat(f," has already been removed from server")),setTimeout((function(){z(null)}),2e3)}))}}else p(n).then((function(e){o(t.concat(e.data)),z("Added ".concat(f)),setTimeout((function(){z(null)}),2e3)})).catch((function(e){var n=JSON.stringify(e.response.data);z(n)}))},states:D,handlers:I}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(d,{personsToShow:A,onClick:function(e){var n=e.target.name,a=e.target.id;window.confirm("Delete ".concat(n,"?"))&&v(a).then((function(e){o(t.filter((function(e){return a!=e.id})))}))}}))};c.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.4f9ff45f.chunk.js.map